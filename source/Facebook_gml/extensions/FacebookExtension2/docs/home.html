<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Home - GMEXT-Facebook</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
        <link href="assets/css/gmext_style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Home";
        var mkdocs_page_input_path = "home.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/gml.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> GMEXT-Facebook
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#guides">Guides</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#constants">Constants</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guide_setup.html">Setup Guide</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guide_login.html">Login Guide</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">GMEXT-Facebook</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Home</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/YoYoGames/GMEXT-Facebook/edit/master/docs/home.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p><a id="top"></a></p>
<h1 id="home"><strong>Home</strong></h1>
<p>This is the Facebook extension, which contains various functionality for Facebook, including sign in.</p>
<p>The sign-in functionality is supported on all platforms. Other functionality may not be available on all platforms.</p>
<blockquote>
<p>Important</p>
<p>Some functions of this extension take a parameter of type <a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/DS_Lists.htm">DSList</a>. However, extension functions currently cannot accept DS list references. To fix this you can wrap the list in a function call to <a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Variable_Functions/real.htm">real</a>.</p>
</blockquote>
<h2 id="guides">Guides</h2>
<p>These are the guides for the Facebook extension:</p>
<ul>
<li><a href="guide_setup.html">Setup Guide</a></li>
<li><a href="guide_login.html">Login Guide</a></li>
</ul>
<h2 id="functions">Functions</h2>
<p>These are the functions in the Facebook extension:</p>
<ul>
<li><a href="home.html#fb_login">fb_login</a></li>
<li><a href="home.html#fb_login_oauth">fb_login_oauth</a></li>
<li><a href="home.html#fb_logout">fb_logout</a></li>
<li><a href="home.html#fb_status">fb_status</a></li>
<li><a href="home.html#fb_graph_request">fb_graph_request</a></li>
<li><a href="home.html#fb_dialog">fb_dialog</a></li>
<li><a href="home.html#fb_check_permission">fb_check_permission</a></li>
<li><a href="home.html#fb_accesstoken">fb_accesstoken</a></li>
<li><a href="home.html#fb_request_read_permissions">fb_request_read_permissions</a></li>
<li><a href="home.html#fb_request_publish_permissions">fb_request_publish_permissions</a></li>
<li><a href="home.html#fb_user_id">fb_user_id</a></li>
<li><a href="home.html#fb_ready">fb_ready</a></li>
<li><a href="home.html#fb_init">fb_init</a></li>
<li><a href="home.html#fb_refresh_accesstoken">fb_refresh_accesstoken</a></li>
<li><a href="home.html#fb_send_event">fb_send_event</a></li>
</ul>
<h2 id="constants">Constants</h2>
<p>These are the constants used by the Facebook extension.</p>
<ul>
<li><a href="home.html#facebookextension2_param">FacebookExtension2_PARAM</a></li>
<li><a href="home.html#facebookextension2_event">FacebookExtension2_EVENT</a></li>
</ul>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_login">fb_login</h1>
<p>This function starts a login, requesting the given list of permissions.</p>
<p>For every requested permission, a key is added to <a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a> with the value being either <code>"granted"</code> or <code>"declined"</code>.</p>
<p>See: <a href="https://developers.facebook.com/docs/facebook-login">Facebook Login</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is only supported on Android, iOS and HTML5.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your app asks for more than the default public profile fields and email, Facebook must review it before you release it. See <a href="https://developers.facebook.com/docs/resp-plat-initiatives/individual-processes/app-review">App Review</a>.</p>
</div>
<p>This function operates asynchronously, which means that it does not immediately return the requested result. Instead, upon completion of the task, it will trigger the <a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a>.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_login(permissions)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>permissions</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/DS_Lists.htm">DSList</a></td>
<td>The permissions to request</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></p>
</blockquote>
<p><br></p>
<p><strong>Triggers:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The string <code>"facebook_login_result"</code></td>
</tr>
<tr>
<td>requestId</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></td>
<td>The async request ID</td>
</tr>
<tr>
<td>status</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The status of the request, as a string (one of <code>"success"</code>, <code>"cancelled"</code> or <code>"error"</code>)</td>
</tr>
<tr>
<td>exception</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The exception message, in case of an error</td>
</tr>
<tr>
<td>permission_status</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>A key-value pair added to <a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Variables/Builtin_Global_Variables/async_load.htm">async_load</a> with the key the permission name and the value either <code>"granted"</code> or <code>"declined"</code></td>
</tr>
</tbody>
</table>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">permissions = ds_list_create();
ds_list_add(permissions, "public_profile");
fb_login(real(permissions));</code></pre>
The code above logs in using <a href="home.html#fb_login">fb_login</a>, requesting the default <code>"public_profile"</code> permission.</p>
<p>If the login succeeds, a <a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a> will be triggered:
<pre class="highlight"><code class="language-gml">if(async_load[?"type"] == "facebook_login_result")
{
    var _status = async_load[?"status"];
    if(_status == "success")
    {
        show_debug_message("Facebook Token: " + fb_accesstoken());

        show_debug_message("Permissions:");
        for(var i = 0;i &lt; ds_list_size(permissions);i++)
        {
            var _permission = permissions[|i];
            show_debug_message($"{_permission}: {async_load[? _permission]}");
        };

        ds_list_destroy(permissions);
    }
    else if(_status == "cancelled")
    {

    }
    else if(_status == "error")
    {
        var _exception = ds_map_find_value(async_load, "exception");
        show_message_async(_exception);
    }
}</code></pre>
If the status equals <code>"success"</code>, the access token as well as the permissions are shown in a debug message.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_login_oauth">fb_login_oauth</h1>
<p>This function starts a login using OAuth.</p>
<p>The function sends a request to the Facebook API's OAuth endpoint.</p>
<p>OAuth authentication is supported on all platforms and can be used as an alternative login method on platforms that use the SDK (using <a href="home.html#fb_login">fb_login</a>).</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_login_oauth(state)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>state</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>A unique state value that's sent with the login request</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p>See the OAuth section of the <a href="guide_login.html">Login Guide</a> page for a detailed code example.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_logout">fb_logout</h1>
<p>This function logs out of Facebook.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_logout()</code></pre>
</blockquote>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_status">fb_status</h1>
<p>This function returns the current login status.</p>
<p>This status can be one of the following values:</p>
<ul>
<li><code>"IDLE"</code></li>
<li><code>"PROCESSING"</code></li>
<li><code>"FAILED"</code></li>
<li><code>"AUTHORISED"</code></li>
</ul>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_status()</code></pre>
</blockquote>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">var _status = fb_status();
show_debug_message(_status);</code></pre>
The above code requests the login status and outputs it in a debug message.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_graph_request">fb_graph_request</h1>
<p>This function sends a request to the provided endpoint with the parameters defined as a set of key-value pairs.</p>
<p>See the <a href="https://developers.facebook.com/docs/graph-api/reference/user#posts">User reference</a> for the possible key-value pairs.</p>
<p>See: <a href="https://developers.facebook.com/docs/graph-api/">Graph API</a></p>
<p>This function operates asynchronously, which means that it does not immediately return the requested result. Instead, upon completion of the task, it will trigger the <a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a>.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_graph_request(graph_path, http_method, params)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>graph_path</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>the path to the endpoint in the graph to access</td>
</tr>
<tr>
<td>http_method</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>the HTTP method to use. Can be one of the following: <code>"GET"</code>, <code>"POST"</code>, <code>"DELETE"</code></td>
</tr>
<tr>
<td>params</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/DS_Lists.htm">DSList</a></td>
<td>The parameters to use, provided as key-value pairs</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></p>
</blockquote>
<p><br></p>
<p><strong>Triggers:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The string <code>"fb_graph_request"</code></td>
</tr>
<tr>
<td>requestId</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></td>
<td>The ID of the async request</td>
</tr>
<tr>
<td>status</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The status of the request, as a string (one of <code>"success"</code>, <code>"cancelled"</code> or <code>"error"</code>)</td>
</tr>
<tr>
<td>exception</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The exception message, in case of an error</td>
</tr>
<tr>
<td>response_text</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The response text, if the request was successful</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">fb_graph_request("me/friends", "GET", -1);</code></pre>
The code above gets the current user's friends.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_dialog">fb_dialog</h1>
<p>This function brings up a share dialog to share the given link on the user's Timeline.</p>
<p>See: <a href="https://developers.facebook.com/docs/sharing">Sharing</a></p>
<p>This function operates asynchronously, which means that it does not immediately return the requested result. Instead, upon completion of the task, it will trigger the <a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a>.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_dialog(link)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>link</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The link to share</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></p>
</blockquote>
<p><br></p>
<p><strong>Triggers:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The string <code>"fb_dialog"</code></td>
</tr>
<tr>
<td>requestId</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></td>
<td>The async request ID</td>
</tr>
<tr>
<td>status</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The status of the request, as a string (one of <code>"success"</code>, <code>"cancelled"</code> or <code>"error"</code>)</td>
</tr>
<tr>
<td>exception</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The exception message, in case of an error</td>
</tr>
<tr>
<td>postId</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The ID of the post</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">fb_dialog("www.gamemaker.io");</code></pre>
The code above brings up a share dialog to share the given URL.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_check_permission">fb_check_permission</h1>
<p>This functions checks if the given permission is present in the current <a href="https://developers.facebook.com/docs/facebook-login/guides/access-tokens#usertokens">access token</a>.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_check_permission(permission)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>permission</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The name of the permission to check</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Boolean</a></p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<pre class="highlight"><code class="language-gml">if(!fb_check_permission("user_likes"))
{
    show_debug_message("Permission user_likes not granted.");
}</code></pre>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_accesstoken">fb_accesstoken</h1>
<p>This function returns the current <a href="https://developers.facebook.com/docs/facebook-login/guides/access-tokens#usertokens">access token</a>.</p>
<p>If no access token exists an empty string <code>""</code> is returned.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_accesstoken()</code></pre>
</blockquote>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></p>
</blockquote>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_request_read_permissions">fb_request_read_permissions</h1>
<p>This function reauthenticates the currently logged in user with read permissions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your app asks for more than the default public profile fields and email, Facebook must review it before you release it. See <a href="https://developers.facebook.com/docs/resp-plat-initiatives/individual-processes/app-review">App Review</a>.</p>
</div>
<p>This function operates asynchronously, which means that it does not immediately return the requested result. Instead, upon completion of the task, it will trigger the <a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a>.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_request_read_permissions(permissions)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>permissions</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/DS_Lists.htm">DSList</a></td>
<td>The permissions to request</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Triggers:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The string <code>"facebook_login_result"</code></td>
</tr>
<tr>
<td>requestId</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></td>
<td>The async request ID</td>
</tr>
<tr>
<td>status</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The status of the request, as a string (one of <code>"success"</code>, <code>"cancelled"</code> or <code>"error"</code>)</td>
</tr>
<tr>
<td>exception</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The exception message, in case of an error</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">var _permissions = ds_list_create();
ds_list_add(_permissions,
    "user_age_range",
    "user_birthday",
    "user_location"
);
fb_request_read_permissions(real(_permissions));
ds_list_destroy(_permissions);</code></pre>
The code above creates a <a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/DS_Lists.htm">DSList</a> and adds a few permissions (scopes) to it. It then requests read permissions on this list of items. Finally, the list is destroyed.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_request_publish_permissions">fb_request_publish_permissions</h1>
<p>This function reauthenticates the currently logged in user with publish permissions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If your app asks for more than the default public profile fields and email, Facebook must review it before you release it. See <a href="https://developers.facebook.com/docs/resp-plat-initiatives/individual-processes/app-review">App Review</a>.</p>
</div>
<p>This function operates asynchronously, which means that it does not immediately return the requested result. Instead, upon completion of the task, it will trigger the <a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a>.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_request_publish_permissions(permissions)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>permissions</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/DS_Lists.htm">DSList</a></td>
<td>The permissions to request</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Triggers:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The string <code>"facebook_login_result"</code></td>
</tr>
<tr>
<td>requestId</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></td>
<td>The async request ID</td>
</tr>
<tr>
<td>status</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The status of the request, as a string (one of <code>"success"</code>, <code>"cancelled"</code> or <code>"error"</code>)</td>
</tr>
<tr>
<td>exception</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The exception message, in case of an error</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">var _permissions = ds_list_create();
ds_list_add(_permissions, "publish_actions");
fb_request_publish_permissions(real(_permissions));
ds_list_destroy(_permissions);</code></pre>
The code above creates a <a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/DS_Lists.htm">DSList</a> and adds a permission (scope) to it. It then requests publish permissions on this list of items. Finally, the list is destroyed.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_user_id">fb_user_id</h1>
<p>This function returns the user ID of the user that's currently logged in.</p>
<p>The user ID is a string of numbers that doesn't personally identify you but does connect to your Facebook profile and specific chats on Messenger.</p>
<p>If no valid user ID was found, an empty string <code>""</code> is returned.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_user_id()</code></pre>
</blockquote>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></p>
</blockquote>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_ready">fb_ready</h1>
<p>This function returns if the extension has been initialised. See <a href="home.html#fb_init">fb_init</a>.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_ready()</code></pre>
</blockquote>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Boolean</a></p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">if (!fb_ready()) { exit; }

// Call fb_* functions here
// ...</code></pre>
The code above checks if the Facebook extension has been initialised and exits the current block of code if not.
If code execution reaches the next line, calls to the <code>fb_*</code> functions can be made here.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_init">fb_init</h1>
<p>This function initialises the Facebook extension.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function must be called before using any other extension functions. Use <a href="home.html#fb_ready">fb_ready</a> to check if the extension was initialised successfully.</p>
</div>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_init()</code></pre>
</blockquote>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<pre class="highlight"><code class="language-gml">fb_init();</code></pre>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_refresh_accesstoken">fb_refresh_accesstoken</h1>
<p>This function refreshes the current <a href="https://developers.facebook.com/docs/facebook-login/guides/access-tokens#usertokens">access token</a>.</p>
<p>This function operates asynchronously, which means that it does not immediately return the requested result. Instead, upon completion of the task, it will trigger the <a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a>.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_refresh_accesstoken()</code></pre>
</blockquote>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></p>
</blockquote>
<p><br></p>
<p><strong>Triggers:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/The_Asset_Editors/Object_Properties/Async_Events/Social.htm">Social Async Event</a></p>
</blockquote>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The string <code>"fb_refresh_accesstoken"</code></td>
</tr>
<tr>
<td>requestId</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></td>
<td>The async request ID</td>
</tr>
<tr>
<td>status</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The status of the request, either <code>"success"</code> or <code>"error"</code></td>
</tr>
<tr>
<td>exception</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The exception message in case of an error</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><strong>Example:</strong></p>
<pre class="highlight"><code class="language-gml">fb_refresh_accesstoken();</code></pre>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="fb_send_event">fb_send_event</h1>
<p>This function logs a custom app event.</p>
<p>The function returns whether the event was sent successfully.</p>
<p>See: <a href="https://developers.facebook.com/docs/app-events/overview/">App Events</a></p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">fb_send_event(event_name, value_to_sum=undefined, event_params=undefined)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>event_name</td>
<td><a href="home.html#facebookextension2_event">FacebookExtension2_EVENT</a></td>
<td>The name of the event to log</td>
</tr>
<tr>
<td>value_to_sum</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></td>
<td>The value to add to the sum for this event</td>
</tr>
<tr>
<td>event_params</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/DS_Lists.htm">DSList</a></td>
<td>The event parameters (one or more of <a href="home.html#facebookextension2_param">FacebookExtension2_PARAM</a>) as key-value pairs</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Boolean</a></p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">var _params = ds_list_create();
ds_list_add(_params,
    FacebookExtension2_PARAM_CONTENT_ID, "ContentIdTest",
    FacebookExtension2_PARAM_CURRENCY, "GBP",
    FacebookExtension2_PARAM_NUM_ITEMS, 3
);
fb_send_event(FacebookExtension2_EVENT_ADDED_TO_WISHLIST, 10, real(_params));
ds_list_destroy(_params);</code></pre>
The code above first creates a <a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Data_Structures/DS_Lists/DS_Lists.htm">DSList</a> and adds the key-value pairs to be used as the parameters to it. It then logs an "Added To Wishlist" event with these parameters, adding 10 to the value to sum for this event.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="facebookextension2_param">FacebookExtension2_PARAM</h1>
<blockquote>
<p><strong>Facebook Constants</strong>: <a href="https://developers.facebook.com/docs/reference/android/current/class/AppEventsConstants/">EVENT_PARAM_*</a></p>
</blockquote>
<p>This set of constants represents the possible event parameter types.</p>
<p><br></p>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FacebookExtension2_PARAM_CONTENT_ID</code></td>
<td>Parameter key used to specify an ID for the specific piece of content being logged about. This could be an EAN, article identifier, etc., depending on the nature of the app.</td>
</tr>
<tr>
<td><code>FacebookExtension2_PARAM_CONTENT_TYPE</code></td>
<td>Parameter key used to specify a generic content type/family for the logged event, e.g. "music", "photo", "video". Options to use will vary depending on the nature of the app.</td>
</tr>
<tr>
<td><code>FacebookExtension2_PARAM_CURRENCY</code></td>
<td>Parameter key used to specify currency used with logged event. E.g. "USD", "EUR", "GBP". See ISO-4217 for specific values.</td>
</tr>
<tr>
<td><code>FacebookExtension2_PARAM_DESCRIPTION</code></td>
<td>Parameter key used to specify a description appropriate to the event being logged. E.g., the name of the achievement unlocked in the <code>EVENT_NAME_ACHIEVEMENT_UNLOCKED</code> event.</td>
</tr>
<tr>
<td><code>FacebookExtension2_PARAM_LEVEL</code></td>
<td>Parameter key used to specify the level achieved in an <code>EVENT_NAME_LEVEL_ACHIEVED</code> event.</td>
</tr>
<tr>
<td><code>FacebookExtension2_PARAM_MAX_RATING_VALUE</code></td>
<td>Parameter key used to specify the maximum rating available for the <code>EVENT_NAME_RATE</code> event. E.g., "5" or "10".</td>
</tr>
<tr>
<td><code>FacebookExtension2_PARAM_NUM_ITEMS</code></td>
<td>Parameter key used to specify how many items are being processed for an <code>EVENT_NAME_INITIATED_CHECKOUT</code> or <code>EVENT_NAME_PURCHASE</code> event.</td>
</tr>
<tr>
<td><code>FacebookExtension2_PARAM_PAYMENT_INFO_AVAILABLE</code></td>
<td>Parameter key used to specify whether payment info is available for the <code>EVENT_NAME_INITIATED_CHECKOUT</code> event. <code>EVENT_PARAM_VALUE_YES</code> and <code>EVENT_PARAM_VALUE_NO</code> are good canonical values to use for this parameter.</td>
</tr>
<tr>
<td><code>FacebookExtension2_PARAM_REGISTRATION_METHOD</code></td>
<td>Parameter key used to specify the method the user has used to register for the app, e.g., "Facebook", "email", "Twitter", etc.</td>
</tr>
<tr>
<td><code>FacebookExtension2_PARAM_SEARCH_STRING</code></td>
<td>Parameter key used to specify the string provided by the user for a search operation.</td>
</tr>
<tr>
<td><code>FacebookExtension2_PARAM_SUCCESS</code></td>
<td>Parameter key used to specify whether the activity being logged about was successful or not. <code>EVENT_PARAM_VALUE_YES</code> and <code>EVENT_PARAM_VALUE_NO</code> are good canonical values to use for this parameter.</td>
</tr>
</tbody>
</table>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="facebookextension2_event">FacebookExtension2_EVENT</h1>
<blockquote>
<p><strong>Facebook Constants</strong>: <a href="https://developers.facebook.com/docs/reference/android/current/class/AppEventsConstants/">EVENT_NAME_*</a></p>
</blockquote>
<p>This set of constants represents the possible built-in event names.</p>
<p>These constants are referenced by the following functions:</p>
<ul>
<li><a href="home.html#fb_send_event">fb_send_event</a></li>
</ul>
<p><br></p>
<table>
<thead>
<tr>
<th>Member</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FacebookExtension2_EVENT_ACHIEVED_LEVEL</code></td>
<td>Log this event when the user has achieved a level in the app.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_ADDED_PAYMENT_INFO</code></td>
<td>Log this event when the user has entered their payment info.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_ADDED_TO_CART</code></td>
<td>Log this event when the user has added an item to their cart. The <code>valueToSum</code> passed to <a href="home.html#fb_send_event">fb_send_event</a> should be the item's price.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_ADDED_TO_WISHLIST</code></td>
<td>Log this event when the user has added an item to their wishlist. The <code>valueToSum</code> passed to <a href="home.html#fb_send_event">fb_send_event</a> should be the item's price.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_COMPLETED_REGISTRATION</code></td>
<td>Log this event when the user has completed registration with the app.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_COMPLETED_TUTORIAL</code></td>
<td>Log this event when the user has completed a tutorial in the app.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_INITIATED_CHECKOUT</code></td>
<td>Log this event when the user has entered the checkout process. The <code>valueToSum</code> passed to <a href="home.html#fb_send_event">fb_send_event</a> should be the total price in the cart.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_RATED</code></td>
<td>Log this event when the user has rated an item in the app. The <code>valueToSum</code> passed to <a href="home.html#fb_send_event">fb_send_event</a> should be the numeric rating.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_SEARCHED</code></td>
<td>Log this event when the user has performed a search within the app.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_SPENT_CREDITS</code></td>
<td>Log this event when the user has spent app credits. The <code>valueToSum</code> passed to <a href="home.html#fb_send_event">fb_send_event</a> should be the number of credits spent.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_UNLOCKED_ACHIEVEMENT</code></td>
<td>Log this event when the user has unlocked an achievement in the app.</td>
</tr>
<tr>
<td><code>FacebookExtension2_EVENT_VIEWED_CONTENT</code></td>
<td>Log this event when the user has viewed a form of content in the app.</td>
</tr>
</tbody>
</table>
<p><br></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="guide_setup.html" class="btn btn-neutral float-right" title="Setup Guide">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>YoYoGames 2025</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/YoYoGames/GMEXT-Facebook" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
      <span><a href="guide_setup.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/gml.min.js"></script>
      <script src="assets/js/gmext_script.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
